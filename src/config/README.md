# 梦幻西游项目配置文件规范

## 配置文件目录结构说明

本目录包含梦幻西游项目的所有配置文件，每个配置文件负责特定功能模块的数据定义。

## 配置文件命名规则

1. 所有配置文件使用 `camelCase` 命名方式，以 `Config.js` 结尾
2. 配置文件名应当清晰表达其功能，例如 `petConfig.js` 表示宠物相关配置
3. 通用枚举类型配置统一放在 `enumConfig.js` 中

## 配置文件编写规则

### 1. 基本结构规范

- 每个配置文件应当使用 ES6 模块导出方式
- 配置应当按照逻辑分组，使用注释说明各部分用途
- 常量命名使用全大写下划线分隔方式（如 `MAX_LEVEL`）
- 配置对象使用驼峰命名法

```javascript
// 示例结构
export const SOME_CONSTANT = 100;

export const someConfig = {
  // 配置内容
};
```

### 2. 数据类型规范

- 尽量使用基本数据类型（数字、字符串、布尔值）
- 复杂配置使用对象或数组
- 枚举值应当在 `enumConfig.js` 中定义并引用
- 配置项应当有明确的类型，避免使用 `any` 或混合类型

### 3. 注释规范

- 每个配置文件顶部应当有文件说明注释
- 重要配置项应当有详细注释说明其用途和取值范围
- 复杂计算逻辑或特殊规则应当详细注释

### 4. 引用规范

- 配置文件之间可以相互引用，但应避免循环依赖
- 主要配置应当在 `config.js` 中聚合导出
- 配置文件不应直接引用业务逻辑代码

## 常见配置文件说明

1. **enumConfig.js** - 包含所有枚举类型定义
2. **petConfig.js** - 宠物相关配置
3. **skillConfig.js** - 技能相关配置（包括主动和被动技能）
4. **itemConfig.js** - 物品相关配置
5. **combatConfig.js** - 战斗系统相关配置
6. **uiTextConfig.js** - UI文本配置，支持多语言

## 配置文件修改规则

1. 修改配置前应当了解该配置的影响范围
2. 修改枚举值时应当检查所有引用处
3. 添加新配置时应当遵循已有的命名和结构规范
4. 重大配置变更应当在注释中说明变更原因和日期

## 特殊说明

1. **战斗系统中的距离计算**：距离计算只考虑列之间的距离，不使用曼哈顿距离或欧几里得距离。这是项目的明确要求，相关代码中已添加明确备注。

2. **魔兽要诀**：作为打书重要的物品之一，用于给召唤兽添加相应的技能，是消耗品。使用时会随机从指定技能池中选择技能添加给召唤兽。

3. **配置热更新**：目前配置不支持热更新，修改配置后需要重新构建应用。

## 配置文件检查清单

在提交配置文件修改前，请检查：

- [ ] 配置格式是否符合规范
- [ ] 是否添加了必要的注释
- [ ] 是否可能引起向后兼容性问题
- [ ] 是否有循环依赖问题
- [ ] 枚举值是否有重复或冲突

## 配置文件优化建议

1. 考虑将部分静态配置转移到数据库或远程配置中心
2. 为配置添加类型定义，提高代码提示和类型安全
3. 添加配置验证逻辑，确保配置值在合理范围内
